<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>org.dropproject.studentmodeijplugin</id>
    <name>Student Mode</name>
    <vendor>Drop Project</vendor>

    <depends>com.intellij.modules.platform</depends>

    <resource-bundle>messages.MyBundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Register the StudentModeService -->
        <service serviceImplementation="org.dropproject.studentmodeijplugin.services.StudentModeService"/>
        
        <!-- Disable auto-completion when student mode is enabled -->
        <completion.contributor language="" implementationClass="org.dropproject.studentmodeijplugin.completion.StudentModeCompletionContributor"/>
        
        <!-- Disable inspections/hints when student mode is enabled -->
        <inspectionSuppressor implementation="org.dropproject.studentmodeijplugin.inspections.StudentModeInspectionSuppressor"/>
        
        <!-- AI disabling component -->
        <postStartupActivity implementation="org.dropproject.studentmodeijplugin.ai.StudentModeAIDisabler"/>

        <!-- Startup activity to restore settings if needed -->
        <postStartupActivity implementation="org.dropproject.studentmodeijplugin.startup.StudentModeStartupActivity"/>
    </extensions>

    <actions>
        <!-- Student Mode Toggle Action in Toolbar -->
        <action id="ToggleStudentMode" 
                class="org.dropproject.studentmodeijplugin.actions.ToggleStudentModeAction"
                text="Toggle Student Mode"
                description="Enable/Disable Student Mode for this project"
                icon="/icons/studentModeOff.svg">
            <add-to-group group-id="MainToolbarRight" anchor="last"/>
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>